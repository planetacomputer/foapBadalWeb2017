<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<style>
	table {
	    border-collapse:collapse;
		border:1px solid #FF0000;
		width: auto;
		height: auto;
	}
	table td{
		border:1px solid #FF0000;
		max-width: auto;
		background-color: "pink";
	}

	div{
		float: right;
	}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body class="w3-container">

<script>
	$(document).ready(function(){
		var contador = 0;
    	var files = 4;//prompt("Nombre de files?");
    	var columnes = 3;//prompt("Nombre de columnes");
    	var taula = $("<table></table>");
    	sumatori = $("<div class='w3-badge w3-xxxlarge w3-padding w3-red'>0</div>");
    	$("body").append(taula);
    	taula.before(sumatori);
    	for (var i = 0; i < files; i++) {
			//console.log(i);
			var fila = taula.append("<tr></tr>");
			for (var j = 0; j < columnes; j++) {
				//console.log(j);
				contador++;
				var numero = contador;
				console.log(numero);
				var casella = $("<td>" + numero + "</td>");
				fila.append(casella);
				crearClick(casella, numero);
			}
    	}	
	});

	function crearClick(casella, numero){
		casella.click(function(){
			console.log("Hola el meu valor es " + numero);
			casella.remove();
		});

		casella.hover(function(){
	    	$(this).css("background-color", "yellow");
	    	var a = parseInt(sumatori.text());
	    	if(parseInt(casella.text()) % 2 == 0){
	    		sumatori.text(a + parseInt(casella.text()));
	    	}
	    	console.log(sumatori.text());
	    }, function(){
	    	$(this).css("background-color", "pink");
		});
	}
</script>
</body>
</html>